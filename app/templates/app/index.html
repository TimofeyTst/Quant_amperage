{% extends 'app/main.html' %}
{% load static %}

{% block mycontent %}
<div class="output">
    {{device.value}}
</div>
<div class="container">

    <div class="device_info line_container jc_sp-btw">

        <div class="device border_field list" onclick="device_tag_open(this)">
            <div class="device_name middle_text">{{device.name_replace}}</div>
            <img id = "svg_1" class="svg" src="{% static 'app/svg/chevron-back-outline.svg' %}" />
            <div id="devices">
                <a class="border_field middle_text" href="{% url 'home' %}">Not selected</a>
                <a class="border_field middle_text" href="{% url 'Keithley_K6220A' %}">Keithley K6220A</a>
                <a class="border_field middle_text" href="{% url 'Yokogawa_GS210' %}">Yokogawa GS210</a>
            </div>          
        </div>

        <div class="middle_text">
            {% block connectform %}
            <form id="Connect" method="post" action="">
            {% endblock %}
                {% csrf_token %}
                {% if device.connected == 1 %}
                    <input class="button middle_text" type="submit" form="Connect" value="Отключить"/>
                {% else %}
                    <input class="button middle_text" type="submit" form="Connect" value="Подключить"/>
                {% endif %}
            </form>
        </div>

    </div>

    <div class="group_container line_container jc_sp-btw">
        
        {% block amper_form %}
        <form id="Send_ampers" method="post" action="">
        {% endblock %}
            {% csrf_token %}
            <div class="group">
                <div class="thin_text">Ток</div>
                
                <div class="interact">
                    <div class="line_container middle_text">
                        <input class="border_field small middle_text" type="number" id="ampers" 
                            name="ampers" value="{{ device.amper_value }}" step="0.01">
                        <select name="ampers_type" class="border_field small list middle_text" selected="uA">
                            <option value="mA" {% if device.unit_a == 'mA' %} selected {% endif %}>mA</option>
                            <option value="uA" {% if device.unit_a == 'uA' %} selected {% endif %}>uA</option>
                        </select>
                    </div>
                    <div class="line_container">
                        <input class="button middle_text" type="submit" 
                                form="Send_ampers" value="Отправить"/>
                    </div> 
                </div>   
            </div>
        </form>
        
        {% block volts_form %}
        <form id="Send_volts" method="post" action="">
        {% endblock %}
            {% csrf_token %}
            <div class="group">
                <div class="thin_text">Предельное напряжение</div>
                <div class="interact">
                    <div class="line_container">
                        <input class="border_field small middle_text" type="number" id="volts" 
                            name="volts" value="{{ device.volt_value }}" step="0.01">
                        <select name="volts_type" class="border_field small list middle_text">
                            <option value="V" {% if device.unit_v == 'V' %} selected {% endif %}>V</option>
                            <option value="mV" {% if device.unit_v == 'mV' %} selected {% endif %}>mV</option>
                        </select>
                    </div>
                    <div class="line_container">
                            <input class="button middle_text" type="submit" 
                                    form="Send_volts" value="Отправить"/>
                    </div> 
                </div>   
            </div>
        </form>

    </div>
</div>
{% endblock %}